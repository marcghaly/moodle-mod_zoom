{"version":3,"sources":["../src/form.js"],"names":["define","$","SELECTORS","REPEAT_SELECT","REPEAT_INTERVAL","REPEAT_INTERVAL_DAILY","REPEAT_INTERVAL_WEEKLY","REPEAT_INTERVAL_MONTHLY","REPEAT_INTERVAL_OPTIONS","START_TIME","DURATION","RECURRING","OPTION_JBH","OPTION_WAITING_ROOM","REPEAT_OPTIONS","REPEAT_OPTION_NONE","REPEAT_OPTION_DAILY","REPEAT_OPTION_WEEKLY","REPEAT_OPTION_MONTHLY","REPEAT_MAX_OPTIONS","toggle_start_time_duration","disabled","prop","val","toggle_repeat_interval_text","hide","repeat_select","show","limit_repeat_values","selectedvalue","each","value","init","option_jbh","option_waiting_room","change","is"],"mappings":"AAyBAA,OAAM,iBAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,IAOvBC,CAAAA,CAAS,CAAG,CACZC,aAAa,CAAE,kCADH,CAEZC,eAAe,CAAE,kBAFL,CAGZC,qBAAqB,CAAE,iBAHX,CAIZC,sBAAsB,CAAE,kBAJZ,CAKZC,uBAAuB,CAAE,mBALb,CAMZC,uBAAuB,CAAE,yCANb,CAOZC,UAAU,CAAE,8BAPA,CAQZC,QAAQ,CAAE,uBARE,CASZC,SAAS,CAAE,6CATC,CAUZC,UAAU,CAAE,8CAVA,CAWZC,mBAAmB,CAAE,uDAXT,CAPW,CA0BvBC,CAAc,CAAG,CACjBC,kBAAkB,CAAE,CADH,CAEjBC,mBAAmB,CAAE,CAFJ,CAGjBC,oBAAoB,CAAE,CAHL,CAIjBC,qBAAqB,CAAE,CAJN,CA1BM,CAsCvBC,CAAkB,CAAG,CACrBH,mBAAmB,CAAE,EADA,CAErBC,oBAAoB,CAAE,EAFD,CAGrBC,qBAAqB,CAAE,CAHF,CAtCE,CAgFvBE,CAA0B,CAAG,UAAY,CAEzC,GAAIC,CAAAA,CAAQ,GAAZ,CACA,GAAIpB,CAAC,CAACC,CAAS,CAACS,SAAX,CAAD,CAAuBW,IAAvB,CAA4B,SAA5B,GAA0CrB,CAAC,CAACC,CAAS,CAACC,aAAX,CAAD,CAA2BoB,GAA3B,IAAoCT,CAAc,CAACC,kBAAjG,CAAqH,CACjHM,CAAQ,GACX,CACDpB,CAAC,CAACC,CAAS,CAACO,UAAX,CAAD,CAAwBa,IAAxB,CAA6B,UAA7B,CAAyCD,CAAzC,EACApB,CAAC,CAACC,CAAS,CAACQ,QAAX,CAAD,CAAsBY,IAAtB,CAA2B,UAA3B,CAAuCD,CAAvC,CACH,CAxF0B,CA8FvBG,CAA2B,CAAG,UAAY,CAC1CvB,CAAC,CAACC,CAAS,CAACE,eAAX,CAAD,CAA6BqB,IAA7B,GACA,GAAIC,CAAAA,CAAa,CAAGzB,CAAC,CAACC,CAAS,CAACC,aAAX,CAArB,CACA,GAAIuB,CAAa,CAACH,GAAd,IAAuBT,CAAc,CAACE,mBAA1C,CAA+D,CAC3Df,CAAC,CAACC,CAAS,CAACG,qBAAX,CAAD,CAAmCsB,IAAnC,EACH,CAFD,IAEO,IAAID,CAAa,CAACH,GAAd,IAAuBT,CAAc,CAACG,oBAA1C,CAAgE,CACnEhB,CAAC,CAACC,CAAS,CAACI,sBAAX,CAAD,CAAoCqB,IAApC,EACH,CAFM,IAEA,IAAID,CAAa,CAACH,GAAd,IAAuBT,CAAc,CAACI,qBAA1C,CAAiE,CACpEjB,CAAC,CAACC,CAAS,CAACK,uBAAX,CAAD,CAAqCoB,IAArC,EACH,CACJ,CAxG0B,CAgHvBC,CAAmB,CAAG,UAAY,CAClC,GAAIC,CAAAA,CAAa,CAAG5B,CAAC,CAACC,CAAS,CAACC,aAAX,CAAD,CAA2BoB,GAA3B,EAApB,CAEAtB,CAAC,CAACC,CAAS,CAACM,uBAAX,CAAD,CAAqCsB,IAArC,CAA0C,UAAW,CACjD,GAAID,CAAa,EAAIf,CAAc,CAACG,oBAApC,CAA0D,CACtD,GAAI,KAAKc,KAAL,CAAaZ,CAAkB,CAACF,oBAApC,CAA0D,CACtDhB,CAAC,CAAC,IAAD,CAAD,CAAQwB,IAAR,EACH,CACJ,CAJD,IAIO,IAAII,CAAa,EAAIf,CAAc,CAACI,qBAApC,CAA2D,CAC9D,GAAI,KAAKa,KAAL,CAAaZ,CAAkB,CAACD,qBAApC,CAA2D,CACvDjB,CAAC,CAAC,IAAD,CAAD,CAAQwB,IAAR,EACH,CACJ,CAJM,IAIA,CACHxB,CAAC,CAAC,IAAD,CAAD,CAAQ0B,IAAR,EACH,CACJ,CAZD,CAaH,CAhI0B,CAkI3B,MAAO,CACHK,IAAI,CApFG,QAAPA,CAAAA,IAAO,EAAW,IACdC,CAAAA,CAAU,CAAGhC,CAAC,CAACC,CAAS,CAACU,UAAX,CADA,CAEdsB,CAAmB,CAAGjC,CAAC,CAACC,CAAS,CAACW,mBAAX,CAFT,CAGlBoB,CAAU,CAACE,MAAX,CAAkB,UAAW,CACzB,GAAI,IAAAF,CAAU,CAACG,EAAX,CAAc,UAAd,CAAJ,CAAuC,CACnCF,CAAmB,CAACZ,IAApB,CAAyB,SAAzB,IACH,CACJ,CAJD,EAKAY,CAAmB,CAACC,MAApB,CAA2B,UAAW,CAClC,GAAI,IAAAD,CAAmB,CAACE,EAApB,CAAuB,UAAvB,CAAJ,CAAgD,CAC5CH,CAAU,CAACX,IAAX,CAAgB,SAAhB,IACH,CACJ,CAJD,EAOAF,CAA0B,GAC1BI,CAA2B,GAC3BI,CAAmB,GAEnB3B,CAAC,CAACC,CAAS,CAACC,aAAX,CAAD,CAA2BgC,MAA3B,CAAkC,UAAW,CACzCf,CAA0B,GAC1BI,CAA2B,GAC3BI,CAAmB,EACtB,CAJD,EAMA3B,CAAC,CAACC,CAAS,CAACS,SAAX,CAAD,CAAuBwB,MAAvB,CAA8B,UAAW,CACrCf,CAA0B,EAC7B,CAFD,CAGH,CAuDM,CAGV,CArIK,CAAN","sourcesContent":["// This file is part of the Zoom plugin for Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Populates or de-populates password field based on whether the\n * password is required or not.\n *\n * @package    mod_zoom\n * @copyright  2018 UC Regents\n * @author     Kubilay Agi\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n\n    /**\n     * CSS selectors used throughout the file.\n     *\n     * @type {object}\n     */\n    var SELECTORS = {\n        REPEAT_SELECT: 'select[name=\"recurrence_type\"]',\n        REPEAT_INTERVAL: '.repeat_interval',\n        REPEAT_INTERVAL_DAILY: '#interval_daily',\n        REPEAT_INTERVAL_WEEKLY: '#interval_weekly',\n        REPEAT_INTERVAL_MONTHLY: '#interval_monthly',\n        REPEAT_INTERVAL_OPTIONS: 'select[name=\"repeat_interval\"] option',\n        START_TIME: 'select[name*=\"start_time\"]',\n        DURATION: '*[name*=\"duration\"]',\n        RECURRING: 'input[name=\"recurring\"][type!=\"hidden\"]',\n        OPTION_JBH: 'input[name=\"option_jbh\"][type!=\"hidden\"]',\n        OPTION_WAITING_ROOM: 'input[name=\"option_waiting_room\"][type!=\"hidden\"]'\n    };\n\n    /**\n     * Repeat interval options.\n     *\n     * @type {object}\n     */\n    var REPEAT_OPTIONS = {\n        REPEAT_OPTION_NONE: 0,\n        REPEAT_OPTION_DAILY: 1,\n        REPEAT_OPTION_WEEKLY: 2,\n        REPEAT_OPTION_MONTHLY: 3\n    };\n\n    /**\n     * The max values for each repeat option.\n     *\n     * @type {object}\n     */\n    var REPEAT_MAX_OPTIONS = {\n        REPEAT_OPTION_DAILY: 90,\n        REPEAT_OPTION_WEEKLY: 12,\n        REPEAT_OPTION_MONTHLY: 3\n    };\n\n    /**\n     * The init function.\n     */\n    var init = function() {\n        var option_jbh = $(SELECTORS.OPTION_JBH);\n        var option_waiting_room = $(SELECTORS.OPTION_WAITING_ROOM);\n        option_jbh.change(function() {\n            if (option_jbh.is(':checked') == true) {\n                option_waiting_room.prop('checked', false);\n            }\n        });\n        option_waiting_room.change(function() {\n            if (option_waiting_room.is(':checked') == true) {\n                option_jbh.prop('checked', false);\n            }\n        });\n\n        // First toggle the values based on initial selections.\n        toggle_start_time_duration();\n        toggle_repeat_interval_text();\n        limit_repeat_values();\n        // Add listerner to \"Repeat Every\" drop-down.\n        $(SELECTORS.REPEAT_SELECT).change(function() {\n            toggle_start_time_duration();\n            toggle_repeat_interval_text();\n            limit_repeat_values();\n        });\n        // Add listener for the \"Recurring\" checkbox\n        $(SELECTORS.RECURRING).change(function() {\n            toggle_start_time_duration();\n        });\n    };\n\n    /**\n     * Toggle start time and duration elements.\n     */\n    var toggle_start_time_duration = function () {\n        // Disable start time and duration if \"No Fixed Time\" recurring meeting/webinar selected.\n        var disabled = false;\n        if ($(SELECTORS.RECURRING).prop('checked') && $(SELECTORS.REPEAT_SELECT).val() == REPEAT_OPTIONS.REPEAT_OPTION_NONE) {\n            disabled = true;\n        }\n        $(SELECTORS.START_TIME).prop('disabled', disabled);\n        $(SELECTORS.DURATION).prop('disabled', disabled);\n    };\n\n    /**\n     * Toggle the text based on repeat type.\n     * To show either Days, Weeks or Months\n     */\n    var toggle_repeat_interval_text = function () {\n        $(SELECTORS.REPEAT_INTERVAL).hide();\n        var repeat_select = $(SELECTORS.REPEAT_SELECT);\n        if (repeat_select.val() == REPEAT_OPTIONS.REPEAT_OPTION_DAILY) {\n            $(SELECTORS.REPEAT_INTERVAL_DAILY).show();\n        } else if (repeat_select.val() == REPEAT_OPTIONS.REPEAT_OPTION_WEEKLY) {\n            $(SELECTORS.REPEAT_INTERVAL_WEEKLY).show();\n        } else if (repeat_select.val() == REPEAT_OPTIONS.REPEAT_OPTION_MONTHLY) {\n            $(SELECTORS.REPEAT_INTERVAL_MONTHLY).show();\n        }\n    };\n\n    /**\n     * Limit the options shown in the drop-down based on repeat type selected.\n     * Max value for daily meeting is 90.\n     * Max value for weekly meeting is 12.\n     * Max value for monthly meeting is 3.\n     */\n    var limit_repeat_values = function () {\n        var selectedvalue = $(SELECTORS.REPEAT_SELECT).val();\n        // Restrict options if weekly or monthly option selected.\n        $(SELECTORS.REPEAT_INTERVAL_OPTIONS).each(function() {\n            if (selectedvalue == REPEAT_OPTIONS.REPEAT_OPTION_WEEKLY) {\n                if (this.value > REPEAT_MAX_OPTIONS.REPEAT_OPTION_WEEKLY) {\n                    $(this).hide();\n                }\n            } else if (selectedvalue == REPEAT_OPTIONS.REPEAT_OPTION_MONTHLY) {\n                if (this.value > REPEAT_MAX_OPTIONS.REPEAT_OPTION_MONTHLY) {\n                    $(this).hide();\n                }\n            } else {\n                $(this).show();\n            }\n        });\n    };\n\n    return {\n        init: init\n    };\n});\n"],"file":"form.min.js"}
